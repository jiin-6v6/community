CREATE DATABASE community;

USE community;

CREATE TABLE user_info(
id VARCHAR(20) NOT NULL,
salt VARCHAR(128) NOT NULL,
pwd VARCHAR(128) NOT NULL,
name VARCHAR(8) NOT NULL,
birth DATE NOT NULL,
email VARCHAR(50) NOT NULL,
report_cnt INT DEFAULT 0 NOT NULL,
state INT DEFAULT 0 NOT NULL,
PRIMARY KEY(id));

INSERT INTO user_info(id, salt, pwd, name, birth, email)
VALUES('corona', '4da511ebcf60d949e474a20629e8e12a6004be806f87dbbc6a8c811fb574e957c4d7a8d7ed3316ba4b79a48f51c75e737f018d57cf8a13689ab87a209dc7b29d', '65ac1eb6bde5db16213499df9ef3614d072d40d7f307e506d3d1c405a5fe56e08d6b749124e74942a8746af9fc8c1f2913ee2d5cda04b36de2e70d74136e11b3', '박건우', '1995-05-15', 'pkw8056@gmail.com');
INSERT INTO user_info(id, salt, pwd, name, birth, email)
VALUES('kimjh929', 'd3f6a472f8fbf51222db5c174e2729ec3c52f207fe05bcc14ea59dc89088ee706f9dec8a370e7827920fd862a29d23e2aafe07e9c1196e35350a3101d8df4c36', '508f7faa01d39969e95fada89e2ccb02062ae133df7c5e9b4e020ba1c332d75be1b4b8c725f22f49b95ee571963029ef3ba671fc46c054f89c46f025bd2c6a2f', '김정현', '1995-09-29', 'kimjh929@naver.com');
INSERT INTO user_info(id, salt, pwd, name, birth, email)
VALUES('kikijo', 'd5dae54bf52e28283e002b2e4477429451bb96d9b6183fc7475b69b247919a3d5cd9ad9edb9aec64a05de30ce057405dca512b27eaf4109186af54ad677ba7c2', '3ca2e7dd4601215c2578594ae80ebceaaba3a567809a50e59353c36ac308d32c532939e0853f89104ef3813f3b8d2933b1d318fd04f1ea094a8d94e94d66079a', '김기조', '1997-02-12', 'kkj13922@naver.com');
INSERT INTO user_info(id, salt, pwd, name, birth, email)
VALUES('mintchoco', 'f9864f30a56daf29c9a13da983fe3fe7fac50038de5917a3793bc97e5fba3c249bb0d66ffc4b667942374e83682ead085366778d41f7490f984540260600c262', 'c576fa722cd68846da9c53b59943fe4bccdbb9c3a8c72ba20d8004e234d8f06e3cd810bab3aaea995dd2674430f44c83bde227b92572e225f3f042a47cc6454b', '오지인', '1997-02-18', 'ohjiin97@gmail.com');

CREATE TABLE post(
id INT NOT NULL AUTO_INCREMENT,
board_id VARCHAR(20) NOT NULL,
post_writer VARCHAR(20) NOT NULL,
post_title VARCHAR(50) NOT NULL,
post_content VARCHAR(5000),
time TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
isUpdate INT DEFAULT 0 NOT NULL,
isDelete INT DEFAULT 0 NOT NULL,
PRIMARY KEY(id));

CREATE TABLE comment(
id INT NOT NULL AUTO_INCREMENT,
board_id VARCHAR(20) NOT NULL,
post_id INT NOT NULL,
comment_writer VARCHAR(20) NOT NULL,
comment_content VARCHAR(500) NOT NULL,
unknown INT DEFAULT 0 NOT NULL,
parent_id INT DEFAULT 0 NOT NULL,
time TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
isUpdate INT DEFAULT 0 NOT NULL,
isDelete INT DEFAULT 0 NOT NULL,
PRIMARY KEY(id));

CREATE TABLE report(
report_id INT NOT NULL AUTO_INCREMENT NOT NULL,
board_id VARCHAR(20) NOT NULL,
post_id INT NOT NULL,
comment_id INT NOT NULL,
reported_id VARCHAR(20) NOT NULL,
reporter_id VARCHAR(20) NOT NULL,
report_reason VARCHAR(100) NOT NULL,
report_title VARCHAR(50) DEFAULT NULL,
report_content VARCHAR(5000) NOT NULL,
state INT DEFAULT 0 NOT NULL,
time TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
PRIMARY KEY(report_id));

CREATE TABLE alarm(
comment_id INT NOT NULL,
alarmed_id VARCHAR(20) NOT NULL,
alarming_id VARCHAR(20) NOT NULL,
post_id INT NOT NULL,
board_id VARCHAR(20) NOT NULL,
parent_id INT DEFAULT 0 NOT NULL,
unknown INT DEFAULT 0 NOT NULL,
isCheck INT DEFAULT 0 NOT NULL,
PRIMARY KEY(alarmed_id, comment_id));

CREATE TABLE manager(
id VARCHAR(20) NOT NULL,
name VARCHAR(8) NOT NULL,
salt VARCHAR(128) NOT NULL,
pwd VARCHAR(128) NOT NULL,
PRIMARY KEY(id));

INSERT INTO manager VALUES('admin', '관리자', 'c527336f173c4f9f50b38822a80efac5ad97f348987d0d311064d063ad7aaf75ded5b23d2f4c929bbbe0eb728a4472a772bf9e369d6c0c0f948cdb98e945afdf', '136f2f616d74c8bb8b8f01dea1113f3b6e72c85b48ea4263aa5a1653c04f1aed83ff854b14be04317065df7a116af61b4921f92c06b0fe6ebf56273520943ff4');

CREATE TABLE sessions(
session_id VARCHAR(128) NOT NULL,
expires INT UNSIGNED NOT NULL,
data MEDIUMTEXT,
PRIMARY KEY(session_id));